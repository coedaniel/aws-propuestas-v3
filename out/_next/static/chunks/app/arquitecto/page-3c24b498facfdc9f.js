(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[915],{4760:function(e,s,t){Promise.resolve().then(t.bind(t,8045))},8045:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return A}});var a=t(7437),r=t(2265),n=t(6013),i=t(495),c=t(3146),l=t(4693),o=t(2721),d=t(3072),m=t(7523),u=t(2879),x=t(7440),p=t(3907),h=t(1902),j=t(7589),g=t(8030);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,g.Z)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);var v=t(2940),N=t(933);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,g.Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);var w=t(7019),y=t(5733),k=t(7164),S=t(9590);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let C=(0,g.Z)("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var M=t(3274),E=t(994),Z=t(2022),D=t(2468),O=t(6884),z=t(6780);function A(){let e=(0,r.useRef)(null),[s,t]=(0,r.useState)(""),[n,g]=(0,r.useState)([]),[Z,D]=(0,r.useState)(!1),[O,z]=(0,r.useState)(!0),[A,R]=(0,r.useState)(null),[T,q]=(0,r.useState)({phase:"inicio",data:{}}),[W,F]=(0,r.useState)([]),[L,_]=(0,r.useState)(!0),{selectedModel:V,setSelectedModel:H}=(0,m.a)(),B=u.k7.find(e=>e.id===V)||u.k7[0];(0,r.useEffect)(()=>{G()},[n]),(0,r.useEffect)(()=>{0===n.length&&g([{id:(0,x.O)(),role:"assistant",content:J(),timestamp:new Date().toISOString()}])},[]);let G=()=>{var s;null===(s=e.current)||void 0===s||s.scrollIntoView({behavior:"smooth"})},J=()=>"\xa1Hola! Soy tu Arquitecto de Soluciones AWS y consultor experto.\n\nVamos a dimensionar, documentar y entregar una solucion profesional en AWS, siguiendo mejores practicas y generando todos los archivos necesarios para una propuesta ejecutiva.\n\n**Importante:**\n- No usare acentos ni caracteres especiales en ningun texto, archivo, script ni documento\n- Todos los archivos Word seran funcionales y compatibles: solo texto plano, sin imagenes, sin tablas complejas, ni formato avanzado\n- Solo generare scripts CloudFormation como entregable de automatizacion\n\n**Para comenzar, necesito saber:**\n\n\xbfCual es el nombre del proyecto?",K=(e,s)=>{let t={id:(0,x.O)(),tool:e,status:"running",description:s,timestamp:new Date().toISOString()};return F(e=>[...e,t]),t.id},Y=(e,s,t)=>{F(a=>a.map(a=>a.id===e?{...a,status:s,duration:t}:a))},Q=async()=>{if(!s.trim()||Z)return;let e={id:(0,x.O)(),role:"user",content:s.trim(),timestamp:new Date().toISOString()};g(s=>[...s,e]);let a=[...n,e];t(""),D(!0);try{let e="https://jvdvd1qcdj.execute-api.us-east-1.amazonaws.com/prod";console.log("\uD83D\uDE80 Enviando mensaje a:","".concat(e,"/arquitecto")),console.log("\uD83D\uDCE4 Payload:",{messages:a.map(e=>({role:e.role,content:e.content})),modelId:V,projectState:T});let s=await fetch("".concat(e,"/arquitecto"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:a.map(e=>({role:e.role,content:e.content})),modelId:V,projectState:T})});if(console.log("\uD83D\uDCCA Response status:",s.status),!s.ok){let e=await s.text();throw console.error("❌ Response error:",e),Error("Error ".concat(s.status,": ").concat(s.statusText))}let t=await s.json();console.log("✅ Response data:",t);let r={id:(0,x.O)(),role:"assistant",content:t.response||"Lo siento, no pude generar una respuesta.",timestamp:new Date().toISOString(),usage:t.usage,mcpUsed:t.mcpUsed||[]};g(e=>[...e,r]),t.projectUpdate&&q(e=>({...e,...t.projectUpdate})),t.mcpUsed&&t.mcpUsed.length>0&&t.mcpUsed.forEach(e=>{let s=K(e,"Using ".concat(e," (trusted)"));setTimeout(()=>{Y(s,"completed",2e3*Math.random()+500)},1e3*Math.random()+500)})}catch(s){console.error("❌ Error completo:",s);let e={id:(0,x.O)(),role:"assistant",content:"Error al procesar la solicitud: ".concat((null==s?void 0:s.message)||"Error desconocido"),timestamp:new Date().toISOString()};g(s=>[...s,e])}finally{D(!1)}},X=async(e,s)=>{try{await navigator.clipboard.writeText(e),R(s),setTimeout(()=>R(null),2e3)}catch(e){console.error("Failed to copy message:",e)}};return(0,a.jsxs)("div",{className:"flex h-screen",children:[(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsxs)("div",{className:"border-b border-border bg-card/50 backdrop-blur-sm p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:(0,a.jsx)(b,{className:"w-6 h-6 text-purple-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-foreground",children:"Arquitecto AWS"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(e=>{switch(e){case"inicio":return(0,a.jsx)(p.Z,{className:"w-4 h-4 text-blue-500"});case"tipo":return(0,a.jsx)(h.Z,{className:"w-4 h-4 text-yellow-500"});case"recopilacion":return(0,a.jsx)(j.Z,{className:"w-4 h-4 text-orange-500"});case"generacion":return(0,a.jsx)(f,{className:"w-4 h-4 text-purple-500"});case"entrega":return(0,a.jsx)(v.Z,{className:"w-4 h-4 text-green-500"});default:return(0,a.jsx)(N.Z,{className:"w-4 h-4 text-gray-500"})}})(T.phase),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(e=>{switch(e){case"inicio":return"Inicio de Proyecto";case"tipo":return"Definicion de Tipo";case"recopilacion":return"Recopilacion de Requisitos";case"generacion":return"Generacion de Documentos";case"entrega":return"Entrega Final";default:return"En Proceso"}})(T.phase)," • ",B.name]})]})]})]}),(0,a.jsxs)(l.C,{variant:"secondary",className:"bg-green-500/10 text-green-500",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"6 MCPs Activos"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>_(!L),children:[(0,a.jsx)(f,{className:"w-4 h-4 mr-2"}),L?"Ocultar":"Mostrar"," MCPs"]}),(0,a.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>z(!O),children:[O?(0,a.jsx)(w.Z,{className:"w-4 h-4"}):(0,a.jsx)(y.Z,{className:"w-4 h-4"}),O?"Ocultar":"Mostrar"," Analisis"]}),(0,a.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>{let e=new Blob([JSON.stringify({timestamp:new Date().toISOString(),model:B.name,project:T,mcpActivities:W,messages:n.map(e=>({role:e.role,content:e.content,timestamp:e.timestamp,mcpUsed:e.mcpUsed}))},null,2)],{type:"application/json"}),s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download="arquitecto-session-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(s)},disabled:0===n.length,children:[(0,a.jsx)(k.Z,{className:"w-4 h-4 mr-2"}),"Exportar"]}),(0,a.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>{g([]),q({phase:"inicio",data:{}}),F([]),g([{id:(0,x.O)(),role:"assistant",content:J(),timestamp:new Date().toISOString()}])},disabled:0===n.length,children:[(0,a.jsx)(S.Z,{className:"w-4 h-4 mr-2"}),"Nuevo Proyecto"]}),(0,a.jsx)(o.O,{selectedModel:V,onModelChange:H,disabled:Z,compact:!0})]})]}),T.name&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-muted/30 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(C,{className:"w-4 h-4 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-foreground",children:T.name}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"rapido"===T.type?"Servicio Rapido":"Solucion Integral"})]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsxs)(l.C,{variant:"outline",className:"bg-blue-500/10 text-blue-500",children:["Fase ","inicio"===T.phase?"1":"tipo"===T.phase?"2":"recopilacion"===T.phase?"3":"generacion"===T.phase?"4":"5","/5"]})})]})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.map(e=>(0,a.jsx)(P,{message:e,onCopy:X,copiedMessageId:A},e.id)),Z&&(0,a.jsx)(U,{model:B}),(0,a.jsx)("div",{ref:e})]}),(0,a.jsxs)("div",{className:"border-t border-border bg-card/50 backdrop-blur-sm p-4",children:[(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(c.g,{value:s,onChange:e=>t(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),Q())},placeholder:function(e){switch(e){case"inicio":return"Escribe el nombre del proyecto...";case"tipo":return"Especifica si es solucion integral o servicio rapido...";case"recopilacion":return"Proporciona mas detalles sobre los requisitos...";case"generacion":return"Confirma los detalles o solicita ajustes...";case"entrega":return"Proyecto completado. \xbfNecesitas algun ajuste?";default:return"Escribe tu mensaje..."}}(T.phase),className:"min-h-[80px] resize-none focus-ring",disabled:Z})}),(0,a.jsx)(i.z,{onClick:Q,disabled:!s.trim()||Z,size:"lg",className:"px-6 self-end",children:Z?(0,a.jsx)(M.Z,{className:"w-5 h-5 animate-spin"}):(0,a.jsx)(E.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"mt-2 text-xs text-muted-foreground flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Presiona Enter para enviar, Shift+Enter para nueva linea"}),(0,a.jsx)("span",{children:"Arquitecto AWS • Generacion guiada de propuestas"})]})]})]}),L&&(0,a.jsx)("div",{className:"w-80 border-l border-border bg-card/30 backdrop-blur-sm",children:(0,a.jsx)(I,{activities:W})}),O&&!L&&(0,a.jsx)("div",{className:"w-80 border-l border-border bg-card/30 backdrop-blur-sm",children:(0,a.jsx)(d.o,{messages:n})})]})}function P(e){let{message:s,onCopy:t,copiedMessageId:r}=e,c="user"===s.role,o=r===s.id;return(0,a.jsx)("div",{className:"flex ".concat(c?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:"flex space-x-3 max-w-4xl ".concat(c?"flex-row-reverse space-x-reverse":""),children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ".concat(c?"bg-primary":"bg-purple-500"),children:c?(0,a.jsx)(Z.Z,{className:"w-4 h-4 text-primary-foreground"}):(0,a.jsx)(b,{className:"w-4 h-4 text-white"})}),(0,a.jsx)(n.Zb,{className:"".concat(c?"message-user":"message-assistant"," group"),children:(0,a.jsxs)(n.aY,{className:"p-4",children:[(0,a.jsx)("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:(0,a.jsx)("div",{className:"whitespace-pre-wrap",children:s.content})}),(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-between text-xs text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{children:s.timestamp?(0,x.p)(s.timestamp):""}),s.usage&&(0,a.jsxs)(l.C,{variant:"outline",className:"text-xs",children:[s.usage.inputTokens,"→",s.usage.outputTokens," tokens"]}),s.mcpUsed&&s.mcpUsed.length>0&&(0,a.jsxs)(l.C,{variant:"outline",className:"text-xs bg-purple-500/10 text-purple-500",children:[s.mcpUsed.length," MCP"]})]}),(0,a.jsx)(i.z,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>t(s.content,s.id),children:o?(0,a.jsx)(D.Z,{className:"w-3 h-3 text-green-500"}):(0,a.jsx)(O.Z,{className:"w-3 h-3"})})]})]})})]})})}function U(e){let{model:s}=e;return(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsxs)("div",{className:"flex space-x-3 max-w-4xl",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center",children:(0,a.jsx)(b,{className:"w-4 h-4 text-white"})}),(0,a.jsx)(n.Zb,{className:"message-assistant",children:(0,a.jsxs)(n.aY,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(M.Z,{className:"w-4 h-4 animate-spin text-purple-500"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"El Arquitecto AWS esta analizando tu solicitud..."})]}),(0,a.jsx)("div",{className:"mt-2 text-xs text-muted-foreground",children:"Activando MCPs necesarios para generar la propuesta"})]})})]})})}function I(e){let{activities:s}=e,t=s.slice(-10).reverse();return(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-border",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(f,{className:"w-5 h-5 text-purple-500"}),(0,a.jsx)("h3",{className:"font-semibold text-foreground",children:"Actividad MCP"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Herramientas utilizadas en tiempo real"})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:0===t.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(f,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No hay actividad MCP aun"})]}):t.map(e=>(0,a.jsx)(R,{activity:e},e.id))}),(0,a.jsx)("div",{className:"p-4 border-t border-border",children:(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"MCPs Disponibles: 6"}),(0,a.jsxs)("span",{children:["Activos: ",s.filter(e=>"running"===e.status).length]})]})})})]})}function R(e){let{activity:s}=e;return(0,a.jsx)(n.Zb,{className:"p-3 ".concat((()=>{switch(s.status){case"running":return"border-blue-500/20 bg-blue-500/5";case"completed":return"border-green-500/20 bg-green-500/5";case"error":return"border-red-500/20 bg-red-500/5"}})()),children:(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(()=>{switch(s.status){case"running":return(0,a.jsx)(M.Z,{className:"w-3 h-3 animate-spin text-blue-500"});case"completed":return(0,a.jsx)(v.Z,{className:"w-3 h-3 text-green-500"});case"error":return(0,a.jsx)(z.Z,{className:"w-3 h-3 text-red-500"})}})(),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-xs font-mono text-purple-600 dark:text-purple-400",children:["\uD83D\uDEE0️ Using tool: ",s.tool]}),(0,a.jsx)(l.C,{variant:"outline",className:"text-xs",children:"trusted"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:s.description}),s.duration&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["● Completed in ",(s.duration/1e3).toFixed(1),"s"]})]})]})})}},7589:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])}},function(e){e.O(0,[737,242,53,116,971,23,744],function(){return e(e.s=4760)}),_N_E=e.O()}]);