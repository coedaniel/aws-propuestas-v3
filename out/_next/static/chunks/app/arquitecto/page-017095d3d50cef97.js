(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[915],{4760:function(e,s,a){Promise.resolve().then(a.bind(a,7381))},7381:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return O}});var t=a(7437),r=a(2265),i=a(6013),c=a(495),l=a(3146),n=a(4693),o=a(2721),d=a(3072),x=a(7523),m=a(2879),u=a(7440),p=a(3907),h=a(1902),j=a(8030);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,j.Z)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);var f=a(2940),N=a(8954),b=a(7019),v=a(5733),y=a(7164),w=a(9590);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let k=(0,j.Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);var S=a(3274),C=a(994),Z=a(2022),P=a(2468),I=a(6884),M=a(5430),z=a(2023),A=a(5353),E=a(357);function O(){let e=(0,r.useRef)(null),[s,a]=(0,r.useState)(""),[i,j]=(0,r.useState)(!1),[Z,P]=(0,r.useState)(!0),[I,M]=(0,r.useState)(null),[z,A]=(0,r.useState)(null),[O,R]=(0,r.useState)("inicio"),{selectedModel:T,setSelectedModel:L,messages:_,addMessage:W,setLoading:B,isLoading:G}=(0,x.a)(),F=i||G,V=m.k7.find(e=>e.id===T)||m.k7[0];(0,r.useEffect)(()=>{Y()},[_]);let Y=()=>{var s;null===(s=e.current)||void 0===s||s.scrollIntoView({behavior:"smooth"})},J=async()=>{if(!s.trim()||F)return;let e={id:(0,u.Ox)(),role:"user",content:s.trim(),timestamp:new Date().toISOString()};W(e);let t=[..._,e];a(""),j(!0);try{let e=E.env.NEXT_PUBLIC_API_URL||"https://jvdvd1qcdj.execute-api.us-east-1.amazonaws.com/prod",s=await fetch("".concat(e,"/arquitecto"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:t.map(e=>({role:e.role,content:e.content})),modelId:T,projectPhase:O,currentProject:z})});if(!s.ok)throw Error("Error ".concat(s.status,": ").concat(s.statusText));let a=await s.json(),r={id:(0,u.Ox)(),role:"assistant",content:a.response||"Lo siento, no pude generar una respuesta.",timestamp:new Date().toISOString(),usage:a.usage,mcpUsed:a.mcpUsed||[]};W(r),a.projectUpdate&&A(a.projectUpdate),a.projectPhase&&R(a.projectPhase)}catch(e){W({id:(0,u.Ox)(),role:"assistant",content:"Error al procesar la solicitud: ".concat((null==e?void 0:e.message)||"Error desconocido"),timestamp:new Date().toISOString()})}finally{j(!1)}},K=async(e,s)=>{try{await navigator.clipboard.writeText(e),M(s),setTimeout(()=>M(null),2e3)}catch(e){console.error("Failed to copy message:",e)}};return(0,t.jsxs)("div",{className:"flex h-screen",children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,t.jsxs)("div",{className:"border-b border-border bg-card/50 backdrop-blur-sm p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:(0,t.jsx)(N.Z,{className:"w-6 h-6 text-purple-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-foreground",children:"Arquitecto IA"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(e=>{switch(e){case"inicio":return(0,t.jsx)(p.Z,{className:"w-4 h-4 text-blue-500"});case"recopilacion":return(0,t.jsx)(h.Z,{className:"w-4 h-4 text-yellow-500"});case"generacion":return(0,t.jsx)(g,{className:"w-4 h-4 text-purple-500"});case"completado":return(0,t.jsx)(f.Z,{className:"w-4 h-4 text-green-500"})}})(O),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(e=>{switch(e){case"inicio":return"Inicio de Proyecto";case"recopilacion":return"Recopilaci\xf3n de Requisitos";case"generacion":return"Generaci\xf3n de Documentos";case"completado":return"Proyecto Completado"}})(O)," • ",V.name]})]})]})]}),(0,t.jsxs)(n.C,{variant:"secondary",className:"bg-green-500/10 text-green-500",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"6 MCPs Activos"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(c.z,{variant:"outline",size:"sm",onClick:()=>P(!Z),children:[Z?(0,t.jsx)(b.Z,{className:"w-4 h-4"}):(0,t.jsx)(v.Z,{className:"w-4 h-4"}),Z?"Ocultar":"Mostrar"," An\xe1lisis"]}),(0,t.jsxs)(c.z,{variant:"outline",size:"sm",onClick:()=>{let e=new Blob([JSON.stringify({timestamp:new Date().toISOString(),model:V.name,project:z,phase:O,messages:_.map(e=>({role:e.role,content:e.content,timestamp:e.timestamp,mcpUsed:e.mcpUsed}))},null,2)],{type:"application/json"}),s=URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download="arquitecto-session-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)},disabled:0===_.length,children:[(0,t.jsx)(y.Z,{className:"w-4 h-4 mr-2"}),"Exportar"]}),(0,t.jsxs)(c.z,{variant:"outline",size:"sm",onClick:()=>{let{clearCurrentSession:e}=x.a.getState();e(),A(null),R("inicio")},disabled:0===_.length,children:[(0,t.jsx)(w.Z,{className:"w-4 h-4 mr-2"}),"Nuevo Proyecto"]}),(0,t.jsx)(o.O,{selectedModel:T,onModelChange:L,disabled:F,compact:!0})]})]}),z&&(0,t.jsx)("div",{className:"mt-4 p-3 bg-muted/30 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(k,{className:"w-4 h-4 text-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-foreground",children:z.name||"Proyecto Sin Nombre"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"servicio-rapido"===z.type?"Servicio R\xe1pido":"Soluci\xf3n Integral"})]})]}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)(n.C,{variant:"outline",className:"bg-blue-500/10 text-blue-500",children:["Fase ","inicio"===O?"1":"recopilacion"===O?"2":"generacion"===O?"3":"4","/4"]})})]})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===_.length?(0,t.jsx)(D,{model:V}):_.map(e=>(0,t.jsx)(q,{message:e,onCopy:K,copiedMessageId:I},e.id)),F&&(0,t.jsx)(U,{model:V}),(0,t.jsx)("div",{ref:e})]}),(0,t.jsxs)("div",{className:"border-t border-border bg-card/50 backdrop-blur-sm p-4",children:[(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(l.g,{value:s,onChange:e=>a(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),J())},placeholder:function(e){switch(e){case"inicio":return"Describe tu proyecto o necesidad de arquitectura AWS...";case"recopilacion":return"Proporciona m\xe1s detalles sobre los requisitos...";case"generacion":return"Confirma los detalles o solicita ajustes...";case"completado":return"Proyecto completado. \xbfNecesitas alg\xfan ajuste?";default:return"Escribe tu mensaje..."}}(O),className:"min-h-[80px] resize-none focus-ring",disabled:F})}),(0,t.jsx)(c.z,{onClick:J,disabled:!s.trim()||F,size:"lg",className:"px-6 self-end",children:F?(0,t.jsx)(S.Z,{className:"w-5 h-5 animate-spin"}):(0,t.jsx)(C.Z,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"mt-2 text-xs text-muted-foreground flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Presiona Enter para enviar, Shift+Enter para nueva l\xednea"}),(0,t.jsx)("span",{children:"Arquitecto IA • Generaci\xf3n guiada de propuestas"})]})]})]}),Z&&(0,t.jsx)("div",{className:"w-80 border-l border-border bg-card/30 backdrop-blur-sm",children:(0,t.jsx)(d.o,{messages:_})})]})}function q(e){let{message:s,onCopy:a,copiedMessageId:r}=e,l="user"===s.role,o=r===s.id;return(0,t.jsx)("div",{className:"flex ".concat(l?"justify-end":"justify-start"),children:(0,t.jsxs)("div",{className:"flex space-x-3 max-w-4xl ".concat(l?"flex-row-reverse space-x-reverse":""),children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ".concat(l?"bg-primary":"bg-purple-500"),children:l?(0,t.jsx)(Z.Z,{className:"w-4 h-4 text-primary-foreground"}):(0,t.jsx)(N.Z,{className:"w-4 h-4 text-white"})}),(0,t.jsx)(i.Zb,{className:"".concat(l?"message-user":"message-assistant"," group"),children:(0,t.jsxs)(i.aY,{className:"p-4",children:[(0,t.jsx)("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:(0,t.jsx)("div",{className:"whitespace-pre-wrap",children:s.content})}),(0,t.jsxs)("div",{className:"mt-3 flex items-center justify-between text-xs text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{children:s.timestamp?(0,u.p6)(s.timestamp):""}),s.usage&&(0,t.jsxs)(n.C,{variant:"outline",className:"text-xs",children:[s.usage.inputTokens,"→",s.usage.outputTokens," tokens"]}),s.mcpUsed&&s.mcpUsed.length>0&&(0,t.jsxs)(n.C,{variant:"outline",className:"text-xs bg-purple-500/10 text-purple-500",children:[s.mcpUsed.length," MCP"]})]}),(0,t.jsx)(c.z,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>a(s.content,s.id),children:o?(0,t.jsx)(P.Z,{className:"w-3 h-3 text-green-500"}):(0,t.jsx)(I.Z,{className:"w-3 h-3"})})]})]})})]})})}function U(e){let{model:s}=e;return(0,t.jsx)("div",{className:"flex justify-start",children:(0,t.jsxs)("div",{className:"flex space-x-3 max-w-4xl",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center",children:(0,t.jsx)(N.Z,{className:"w-4 h-4 text-white"})}),(0,t.jsx)(i.Zb,{className:"message-assistant",children:(0,t.jsxs)(i.aY,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(S.Z,{className:"w-4 h-4 animate-spin text-purple-500"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"El Arquitecto IA est\xe1 analizando tu solicitud..."})]}),(0,t.jsx)("div",{className:"mt-2 text-xs text-muted-foreground",children:"Activando MCPs necesarios para generar la propuesta"})]})})]})})}function D(e){let{model:s}=e;return(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-purple-500/10 rounded-full mb-6",children:(0,t.jsx)(N.Z,{className:"w-8 h-8 text-purple-500"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"\xa1Bienvenido al Arquitecto IA!"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Soy tu asistente especializado en generar propuestas arquitect\xf3nicas profesionales para AWS. Te guiar\xe9 paso a paso para crear documentaci\xf3n completa y personalizada."}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 max-w-4xl mx-auto text-sm mb-8",children:[(0,t.jsxs)(i.Zb,{className:"p-4 bg-blue-500/5 border-blue-500/20",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,t.jsx)(M.Z,{className:"w-5 h-5 text-blue-500"}),(0,t.jsx)("h3",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Servicios R\xe1pidos"})]}),(0,t.jsxs)("ul",{className:"text-blue-700 dark:text-blue-300 space-y-1 text-left",children:[(0,t.jsx)("li",{children:"• Configuraci\xf3n de EC2, RDS, S3"}),(0,t.jsx)("li",{children:"• Setup de VPN, ELB, CloudFront"}),(0,t.jsx)("li",{children:"• Implementaci\xf3n de servicios espec\xedficos"}),(0,t.jsx)("li",{children:"• Documentaci\xf3n y scripts autom\xe1ticos"})]})]}),(0,t.jsxs)(i.Zb,{className:"p-4 bg-purple-500/5 border-purple-500/20",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,t.jsx)(k,{className:"w-5 h-5 text-purple-500"}),(0,t.jsx)("h3",{className:"font-semibold text-purple-900 dark:text-purple-100",children:"Soluciones Integrales"})]}),(0,t.jsxs)("ul",{className:"text-purple-700 dark:text-purple-300 space-y-1 text-left",children:[(0,t.jsx)("li",{children:"• Migraciones completas a la nube"}),(0,t.jsx)("li",{children:"• Arquitecturas serverless y microservicios"}),(0,t.jsx)("li",{children:"• Soluciones de IA, IoT y analytics"}),(0,t.jsx)("li",{children:"• Propuestas ejecutivas profesionales"})]})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 max-w-3xl mx-auto text-sm",children:[(0,t.jsxs)(i.Zb,{className:"p-4 bg-green-500/5 border-green-500/20",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,t.jsx)(f.Z,{className:"w-4 h-4 text-green-500"}),(0,t.jsx)("h3",{className:"font-semibold text-green-900 dark:text-green-100",children:"Proceso Guiado"})]}),(0,t.jsxs)("ul",{className:"text-green-700 dark:text-green-300 space-y-1 text-left",children:[(0,t.jsx)("li",{children:"• Entrevista paso a paso"}),(0,t.jsx)("li",{children:"• Recopilaci\xf3n de requisitos"}),(0,t.jsx)("li",{children:"• Validaci\xf3n de informaci\xf3n"})]})]}),(0,t.jsxs)(i.Zb,{className:"p-4 bg-orange-500/5 border-orange-500/20",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,t.jsx)(z.Z,{className:"w-4 h-4 text-orange-500"}),(0,t.jsx)("h3",{className:"font-semibold text-orange-900 dark:text-orange-100",children:"Documentos Generados"})]}),(0,t.jsxs)("ul",{className:"text-orange-700 dark:text-orange-300 space-y-1 text-left",children:[(0,t.jsx)("li",{children:"• Propuesta ejecutiva (Word)"}),(0,t.jsx)("li",{children:"• Plan de actividades (CSV)"}),(0,t.jsx)("li",{children:"• Scripts CloudFormation (YAML)"}),(0,t.jsx)("li",{children:"• Diagramas de arquitectura"})]})]}),(0,t.jsxs)(i.Zb,{className:"p-4 bg-cyan-500/5 border-cyan-500/20",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,t.jsx)(A.Z,{className:"w-4 h-4 text-cyan-500"}),(0,t.jsx)("h3",{className:"font-semibold text-cyan-900 dark:text-cyan-100",children:"MCPs Integrados"})]}),(0,t.jsxs)("ul",{className:"text-cyan-700 dark:text-cyan-300 space-y-1 text-left",children:[(0,t.jsx)("li",{children:"• C\xe1lculo autom\xe1tico de costos"}),(0,t.jsx)("li",{children:"• Generaci\xf3n de diagramas"}),(0,t.jsx)("li",{children:"• Consulta de documentaci\xf3n AWS"})]})]})]}),(0,t.jsxs)("div",{className:"mt-8",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Para comenzar, simplemente describe tu proyecto o necesidad:"}),(0,t.jsxs)("div",{className:"flex flex-wrap justify-center gap-2",children:[(0,t.jsx)(n.C,{variant:"outline",className:"bg-muted/30",children:'"Necesito migrar mi aplicaci\xf3n a AWS"'}),(0,t.jsx)(n.C,{variant:"outline",className:"bg-muted/30",children:'"Quiero implementar una arquitectura serverless"'}),(0,t.jsx)(n.C,{variant:"outline",className:"bg-muted/30",children:'"Configurar una base de datos RDS"'})]})]})]})}}},function(e){e.O(0,[737,0,114,116,971,23,744],function(){return e(e.s=4760)}),_N_E=e.O()}]);