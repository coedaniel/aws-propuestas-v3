(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[915],{4760:function(e,s,t){Promise.resolve().then(t.bind(t,255))},255:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return b}});var a=t(7437),n=t(2265),r=t(6463),i=t(9719),l=t(495),c=t(6013),o=t(3146),d=t(837),m=t(2721),x=t(5137),u=t(2022),p=t(8954),h=t(3274),f=t(994),j=t(2940),g=t(2023),N=t(7164),v=t(7440);function b(){let e=(0,r.useRouter)(),s=(0,n.useRef)(null),[t,b]=(0,n.useState)(""),[y,w]=(0,n.useState)([{id:(0,v.O)(),role:"assistant",content:'\xa1Hola! Soy tu Arquitecto AWS experto. Vamos a crear una propuesta profesional paso a paso.\n\n**PASO 1:** Para comenzar, necesito que me digas \xfanicamente el **nombre del proyecto**.\n\nEjemplos:\n• "E-commerce Platform"\n• "Sistema de Inventario" \n• "Portal de Clientes"\n• "App de Delivery"\n\n\xbfCu\xe1l es el nombre de tu proyecto?',timestamp:new Date().toISOString()}]),[S,k]=(0,n.useState)(!1),[Z,C]=(0,n.useState)("amazon.nova-pro-v1:0"),[z,P]=(0,n.useState)([]),[D,O]=(0,n.useState)(!1),[A,E]=(0,n.useState)(null),[q,I]=(0,n.useState)({phase:"inicio",data:{}}),V=()=>{var e;null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,n.useEffect)(()=>{V()},[y]);let R=async()=>{if(!t.trim()||S)return;let e={id:(0,v.O)(),role:"user",content:t.trim(),timestamp:new Date().toISOString()};w(s=>[...s,e]);let s=[...y,e];b(""),k(!0);try{let e="https://jvdvd1qcdj.execute-api.us-east-1.amazonaws.com/prod";console.log("\uD83D\uDE80 Enviando mensaje a:","".concat(e,"/arquitecto"));let t=await fetch("".concat(e,"/arquitecto"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:s.map(e=>({role:e.role,content:e.content})),modelId:Z,projectState:q})});if(console.log("\uD83D\uDCCA Response status:",t.status),!t.ok){let e=await t.text();throw console.error("❌ Response error:",e),Error("Error ".concat(t.status,": ").concat(t.statusText))}let a=await t.json();console.log("✅ Response data:",a);let n={id:(0,v.O)(),role:"assistant",content:a.content||a.response||"Lo siento, no pude generar una respuesta.",timestamp:new Date().toISOString(),mcpServices:a.mcpUsed||[]};w(e=>[...e,n]),a.projectState&&I(e=>({...e,...a.projectState})),a.mcpUsed&&a.mcpUsed.length>0&&P(a.mcpUsed),a.documentsGenerated&&a.documentsGenerated.length>0&&(E({projectId:(0,v.O)(),projectName:q.name||"Proyecto",documentsGenerated:a.documentsGenerated}),O(!0))}catch(s){console.error("❌ Error completo:",s);let e={id:(0,v.O)(),role:"assistant",content:"Error al procesar la solicitud: ".concat((null==s?void 0:s.message)||"Error desconocido"),timestamp:new Date().toISOString()};w(s=>[...s,e])}finally{k(!1)}};return(0,a.jsxs)(i.Z,{children:[(0,a.jsxs)("div",{className:"flex h-full flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(l.z,{variant:"ghost",size:"sm",onClick:()=>e.push("/"),children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Volver"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Arquitecto AWS"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Fase: ",q.phase," ",q.name?"• ".concat(q.name):""]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.O,{selectedModel:Z,onModelChange:C}),(0,a.jsx)(l.z,{variant:"outline",size:"sm",onClick:()=>{w([{id:(0,v.O)(),role:"assistant",content:'\xa1Hola! Soy tu Arquitecto AWS experto. Vamos a crear una propuesta profesional paso a paso.\n\n**PASO 1:** Para comenzar, necesito que me digas \xfanicamente el **nombre del proyecto**.\n\nEjemplos:\n• "E-commerce Platform"\n• "Sistema de Inventario" \n• "Portal de Clientes"\n• "App de Delivery"\n\n\xbfCu\xe1l es el nombre de tu proyecto?',timestamp:new Date().toISOString()}]),I({phase:"inicio",data:{}}),P([])},children:"Limpiar Chat"})]})]}),z.length>0&&(0,a.jsx)("div",{className:"bg-purple-50 border-b px-4 py-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse"}),(0,a.jsxs)("span",{className:"text-sm text-purple-700",children:["\uD83D\uDD27 MCP Services: ",z.join(", ")]})]})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[y.map(e=>(0,a.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:"flex gap-3 max-w-[80%] ".concat("user"===e.role?"flex-row-reverse":""),children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("user"===e.role?"bg-blue-500 text-white":"bg-purple-500 text-white"),children:"user"===e.role?(0,a.jsx)(u.Z,{className:"w-4 h-4"}):(0,a.jsx)(p.Z,{className:"w-4 h-4"})}),(0,a.jsx)(c.Zb,{className:"".concat("user"===e.role?"bg-blue-50 border-blue-200":"bg-white border-gray-200"),children:(0,a.jsxs)(c.aY,{className:"p-4",children:[(0,a.jsx)("div",{className:"whitespace-pre-wrap text-sm",children:e.content}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2 text-xs text-muted-foreground",children:[(0,a.jsx)("span",{children:(0,v.p)(e.timestamp)}),e.mcpServices&&e.mcpServices.length>0&&(0,a.jsxs)("span",{className:"text-purple-600",children:["MCP: ",e.mcpServices.join(", ")]})]})]})})]})},e.id)),S&&(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsxs)("div",{className:"flex gap-3 max-w-[80%]",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-purple-500 text-white flex items-center justify-center",children:(0,a.jsx)(p.Z,{className:"w-4 h-4"})}),(0,a.jsx)(c.Zb,{className:"bg-white border-gray-200",children:(0,a.jsx)(c.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 animate-spin"}),(0,a.jsx)("span",{className:"text-sm",children:"Procesando..."})]})})})]})}),(0,a.jsx)("div",{ref:s})]}),(0,a.jsx)("div",{className:"border-t p-4",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(o.g,{value:t,onChange:e=>b(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),R())},placeholder:"Escribe tu mensaje aqu\xed...",className:"flex-1 min-h-[60px] resize-none",disabled:S}),(0,a.jsx)(l.z,{onClick:R,disabled:!t.trim()||S,size:"lg",children:S?(0,a.jsx)(h.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(f.Z,{className:"w-4 h-4"})})]})})]}),(0,a.jsx)(d.Vq,{open:D,onOpenChange:O,children:(0,a.jsxs)(d.cZ,{className:"max-w-md",children:[(0,a.jsx)(d.fK,{children:(0,a.jsxs)(d.$N,{className:"flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"w-5 h-5 text-green-500"}),"\xa1Proyecto Completado!"]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Se han generado todos los documentos para tu proyecto."}),A&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-medium",children:A.projectName}),(0,a.jsx)("div",{className:"space-y-1",children:A.documentsGenerated.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.Z,{className:"w-4 h-4"}),e.name]}),(0,a.jsx)(l.z,{variant:"ghost",size:"sm",onClick:()=>window.open(e.url,"_blank"),children:(0,a.jsx)(N.Z,{className:"w-4 h-4"})})]},s))})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(l.z,{variant:"outline",onClick:()=>e.push("/projects"),className:"flex-1",children:"Ver Proyectos"}),(0,a.jsx)(l.z,{onClick:()=>O(!1),className:"flex-1",children:"Continuar"})]})]})]})})]})}},9719:function(e,s,t){"use strict";t.d(s,{AppLayout:function(){return b}});var a=t(7437),n=t(2265),r=t(6463),i=t(7138),l=t(7440),c=t(495),o=t(3852),d=t(7583),m=t(8954),x=t(1863),u=t(8711),p=t(1100),h=t(6127),f=t(5430),j=t(4697),g=t(5353),N=t(2873);let v=[{name:"Inicio",href:"/",icon:o.Z,description:"Panel principal"},{name:"Chat Libre",href:"/chat",icon:d.Z,description:"Conversaci\xf3n libre con IA"},{name:"Arquitecto",href:"/arquitecto",icon:m.Z,description:"Generaci\xf3n de propuestas"},{name:"Proyectos",href:"/proyectos",icon:x.Z,description:"Gesti\xf3n de proyectos"},{name:"Anal\xedtica",href:"/analitica",icon:u.Z,description:"M\xe9tricas y estad\xedsticas"},{name:"Conexiones",href:"/conexiones",icon:p.Z,description:"Estado de servicios"},{name:"Errores",href:"/errores",icon:h.Z,description:"Logs y diagn\xf3sticos"}];function b(e){let{children:s}=e,[t,o]=(0,n.useState)(!1),d=(0,r.usePathname)();return(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[t&&(0,a.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>o(!1)}),(0,a.jsx)("div",{className:(0,l.cn)("fixed inset-y-0 left-0 z-50 w-72 transform bg-card border-r border-border transition-transform duration-300 ease-in-out lg:translate-x-0",t?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:(0,a.jsxs)("div",{className:"flex h-full flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-primary rounded-lg",children:(0,a.jsx)(f.Z,{className:"w-6 h-6 text-primary-foreground"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-bold text-foreground",children:"AWS Propuestas"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"v3.0 Professional"})]})]}),(0,a.jsx)(c.z,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>o(!1),children:(0,a.jsx)(j.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:v.map(e=>{let s=d===e.href;return(0,a.jsxs)(i.default,{href:e.href,className:(0,l.cn)("flex items-center space-x-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors",s?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),onClick:()=>o(!1),children:[(0,a.jsx)(e.icon,{className:"w-5 h-5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsx)("div",{className:"text-xs opacity-75",children:e.description})]})]},e.name)})}),(0,a.jsx)("div",{className:"p-4 border-t border-border",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-muted/30 rounded-lg",children:[(0,a.jsx)(g.Z,{className:"w-5 h-5 text-primary"}),(0,a.jsxs)("div",{className:"flex-1 text-xs",children:[(0,a.jsx)("div",{className:"font-medium text-foreground",children:"6 MCP Activos"}),(0,a.jsx)("div",{className:"text-muted-foreground",children:"Bedrock Runtime OK"})]}),(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"})]})})]})}),(0,a.jsxs)("div",{className:"lg:pl-72",children:[(0,a.jsxs)("div",{className:"sticky top-0 z-30 flex items-center justify-between p-4 bg-background/80 backdrop-blur-sm border-b border-border lg:hidden",children:[(0,a.jsx)(c.z,{variant:"ghost",size:"sm",onClick:()=>o(!0),children:(0,a.jsx)(N.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(f.Z,{className:"w-5 h-5 text-primary"}),(0,a.jsx)("span",{className:"font-semibold text-foreground",children:"AWS Propuestas"})]}),(0,a.jsx)("div",{className:"w-8"})," "]}),(0,a.jsx)("main",{className:"min-h-screen",children:s})]})]})}s.Z=b},837:function(e,s,t){"use strict";t.d(s,{$N:function(){return u},Vq:function(){return c},cZ:function(){return m},fK:function(){return x}});var a=t(7437),n=t(2265),r=t(8793),i=t(4697),l=t(7440);let c=r.fC;r.xz;let o=r.h_;r.x8;let d=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(r.aV,{ref:s,className:(0,l.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n})});d.displayName=r.aV.displayName;let m=n.forwardRef((e,s)=>{let{className:t,children:n,...c}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(d,{}),(0,a.jsxs)(r.VY,{ref:s,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...c,children:[n,(0,a.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=r.VY.displayName;let x=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};x.displayName="DialogHeader";let u=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(r.Dx,{ref:s,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",t),...n})});u.displayName=r.Dx.displayName,n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(r.dk,{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...n})}).displayName=r.dk.displayName},5137:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},994:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},2022:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},function(e){e.O(0,[737,138,711,908,229,971,23,744],function(){return e(e.s=4760)}),_N_E=e.O()}]);